<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>R Markdown</title>
    <meta charset="utf-8" />
    <script src="libs/header-attrs-2.11/header-attrs.js"></script>
    <link href="libs/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="libs/remark-css-0.0.1/default-fonts.css" rel="stylesheet" />
    <link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
    <script src="libs/pagedtable-1.1/js/pagedtable.js"></script>
    <script src="libs/htmlwidgets-1.5.1/htmlwidgets.js"></script>
    <script src="libs/jquery-1.12.4/jquery.min.js"></script>
    <link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-1.3.1/leaflet.js"></script>
    <link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
    <script src="libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
    <script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
    <link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
    <script src="libs/leaflet-binding-2.0.3/leaflet.js"></script>
    <link href="libs/font-awesome-5.3.1/css/fontawesome-all.min.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">




class: title-slide center middle inverse

&lt;br&gt;

# R Markdown

&lt;br&gt;

## Florian Priv√© &amp; Julyan Arbel

### April 11, 2019

&lt;br&gt;

&lt;br&gt;

**Slides:** `bit.ly/RUGgre18`

&lt;br&gt;

&lt;small&gt;(adapted with permission from [Antoine Bichat's presentation](https://abichat.github.io/slides/sciencecommunication/))&lt;/small&gt;

---

class: inverse, center, middle

# R Markdown

&lt;img src="rmarkdown.png" width="40%" style="display: block; margin: auto;" /&gt;

---

## R Markdown?

&lt;br&gt;

* Markdown is a _lightweight markup language_ with plain text formatting syntax that can be converted to many formats, including HTML.    
It is completely independent from R.    
The extention is typically `.md`.

--

* R Markdown is an extension of the markdown syntax that enables R code to be executed. The extention is typically `.Rmd`.

--

* {rmarkdown} is an R package that proceses and converts `.Rmd` files into a number of different formats, including HTML, PDF and Word.

---

## Create a new `.Rmd` in RStudio

.pull-left[
.center[
  &lt;img src="https://abichat.github.io/slides/sciencecommunication/CreateRmd1.png" width="400"&gt;
]
]

--

.pull-right[
  &lt;div style = "margin-top: 80px"&gt;&lt;/div&gt; 
  .center[
    &lt;img src="https://abichat.github.io/slides/sciencecommunication/CreateRmd2.png" width="400"&gt;
  ]
]

---

## New `.Rmd`

.center[
  &lt;img src="https://abichat.github.io/slides/sciencecommunication/CreateRmd3.png" width="700"&gt;
]

---

## Compile `.Rmd`

Use the `Knit` button to produce a HTML file

.center[
  &lt;img src="https://abichat.github.io/slides/sciencecommunication/CreateRmd4.png" width="300"&gt;
]

&lt;br&gt;

Shortcut: `Ctrl + Shift + K`

---

class: center, middle, inverse

# Markdown syntax

---

## Titles and text fonts in Markdown

```
# Big title

## Title

### Small title

_Italic_, *italic*, __bold__, **bold**, and `monospace`
```

--

***

# Big title

## Title

### Small title

_Italic_, *italic*, __bold__, **bold**, and `monospace`


---

## Lists in Markdown

.pull-left[
```
1. This is

2. an ordered

3. list
```
1. This is

2. an ordered

3. list
]

--

.pull-right[
```
 * This is

 * a bullet list

    * with indent
```
* This is

* a bullet list

  * with indent
]

--

&lt;br&gt;

- You can enumerate only with '`1.`'; it will increment automatically

- You can also use '`-`' or '`+`' instead of '`*`'


---

## More in Markdown

```
&gt; You can insert quotes and $\LaTeX$ expressions
```

&gt; You can insert quotes and `\(\LaTeX\)` expressions

--

&lt;br&gt;

```
$$ \frac{1}{n} \sum_{i=1}^n X_i $$
```

$$ \frac{1}{n} \sum_{i=1}^n X_i $$

--

&lt;br&gt;

- Make an horizontal line with '`***`'

- Add 4 spaces at the end of your text in order to write to the next line

- You can write HTML in Markdown (e.g. use '`&lt;br&gt;`' to get a blank line)

---

## Insert links and pictures

```
[Antoine's personal page](https://abichat.github.io/)
```

[Antoine's personal page](https://abichat.github.io/)

--

```
![](https://slides.yihui.name/gif/impossible-parking.gif)
```

![](https://slides.yihui.name/gif/impossible-parking.gif)

--

It also works directly with HTML syntax:

```
&lt;a href="https://abichat.github.io/"&gt;Antoine's personal page&lt;/a&gt;

&lt;img src="https://slides.yihui.name/gif/impossible-parking.gif"&gt;
```

---

class: middle, center, inverse

# Code chunks

---

## Basic chunk


````
```{r}
x &lt;- 4
x
```
````

--

Output:


```
[1] 4
```

--

.pull-left[
### Echo

To display the output of a code chunk but not the underlying R code, you specify the `echo=FALSE` option


````
```{r, echo=FALSE}
x &lt;- 5
x
```
````
]

--

.pull-right[
### Eval

To display R code without evaluating it, you specify the `eval=FALSE` chunk option


````
```{r, eval=FALSE}
x &lt;- 5
```
````
]

---

## Figure options (1/2)


````
```{r, fig.align="center", out.width="60%"}
ggplot2::qplot(Sepal.Length, Sepal.Width, data = iris)
```
````

&lt;img src="rmarkdown_files/figure-html/chunkfig-1.svg" width="60%" style="display: block; margin: auto;" /&gt;

---

## Figure options (2/2)


````
```{r, fig.align="center", out.width="80%", fig.asp=0.7, fig.width=4}
ggplot2::qplot(Sepal.Length, Sepal.Width, data = iris)
```
````

&lt;img src="rmarkdown_files/figure-html/chunkfig2-1.svg" width="80%" style="display: block; margin: auto;" /&gt;

---

## A better way to include pictures


````
```{r, fig.align="center", out.width="80%", echo=FALSE}
knitr::include_graphics(
  "https://slides.yihui.name/gif/impossible-parking.gif")
```
````

&lt;img src="https://slides.yihui.name/gif/impossible-parking.gif" width="80%" style="display: block; margin: auto;" /&gt;

It allows you to use the chunk options for image size.

---

## FAQ: two figures side-by-side


````
```{r, echo=FALSE, out.width="50%", fig.show="hold", fig.align="default"}
plot(iris)
plot(iris, pch = 20, col = iris$Species)
```
````

&lt;img src="rmarkdown_files/figure-html/unnamed-chunk-10-1.svg" width="50%" /&gt;&lt;img src="rmarkdown_files/figure-html/unnamed-chunk-10-2.svg" width="50%" /&gt;

---

class: inverse, center, middle

# Options and Formats

---

## Supported languages in chunks


- R 

- Python

- Shell

- SQL

- Rcpp

- Stan

- JavaScript

- CSS

- Julia

- C and Fortran

- [many others...](https://bookdown.org/yihui/rmarkdown/language-engines.html)

---

## Data frame printing and tables

You can play with YAML option `df_print`. For example, `df_print: paged`:


```r
iris   ## or directly with `DT::datatable(iris)`
```

&lt;div data-pagedtable="false"&gt;
  &lt;script data-pagedtable-source type="application/json"&gt;
{"columns":[{"label":["Sepal.Length"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["Sepal.Width"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["Petal.Length"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["Petal.Width"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["Species"],"name":[5],"type":["fct"],"align":["left"]}],"data":[{"1":"5.1","2":"3.5","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.0","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.7","2":"3.2","3":"1.3","4":"0.2","5":"setosa"},{"1":"4.6","2":"3.1","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.6","3":"1.4","4":"0.2","5":"setosa"},{"1":"5.4","2":"3.9","3":"1.7","4":"0.4","5":"setosa"},{"1":"4.6","2":"3.4","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.0","2":"3.4","3":"1.5","4":"0.2","5":"setosa"},{"1":"4.4","2":"2.9","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.1","3":"1.5","4":"0.1","5":"setosa"},{"1":"5.4","2":"3.7","3":"1.5","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.4","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.0","3":"1.4","4":"0.1","5":"setosa"},{"1":"4.3","2":"3.0","3":"1.1","4":"0.1","5":"setosa"},{"1":"5.8","2":"4.0","3":"1.2","4":"0.2","5":"setosa"},{"1":"5.7","2":"4.4","3":"1.5","4":"0.4","5":"setosa"},{"1":"5.4","2":"3.9","3":"1.3","4":"0.4","5":"setosa"},{"1":"5.1","2":"3.5","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.7","2":"3.8","3":"1.7","4":"0.3","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.5","4":"0.3","5":"setosa"},{"1":"5.4","2":"3.4","3":"1.7","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.7","3":"1.5","4":"0.4","5":"setosa"},{"1":"4.6","2":"3.6","3":"1.0","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.3","3":"1.7","4":"0.5","5":"setosa"},{"1":"4.8","2":"3.4","3":"1.9","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.0","3":"1.6","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.4","3":"1.6","4":"0.4","5":"setosa"},{"1":"5.2","2":"3.5","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.2","2":"3.4","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.7","2":"3.2","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.8","2":"3.1","3":"1.6","4":"0.2","5":"setosa"},{"1":"5.4","2":"3.4","3":"1.5","4":"0.4","5":"setosa"},{"1":"5.2","2":"4.1","3":"1.5","4":"0.1","5":"setosa"},{"1":"5.5","2":"4.2","3":"1.4","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.1","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.2","3":"1.2","4":"0.2","5":"setosa"},{"1":"5.5","2":"3.5","3":"1.3","4":"0.2","5":"setosa"},{"1":"4.9","2":"3.6","3":"1.4","4":"0.1","5":"setosa"},{"1":"4.4","2":"3.0","3":"1.3","4":"0.2","5":"setosa"},{"1":"5.1","2":"3.4","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.5","3":"1.3","4":"0.3","5":"setosa"},{"1":"4.5","2":"2.3","3":"1.3","4":"0.3","5":"setosa"},{"1":"4.4","2":"3.2","3":"1.3","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.5","3":"1.6","4":"0.6","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.9","4":"0.4","5":"setosa"},{"1":"4.8","2":"3.0","3":"1.4","4":"0.3","5":"setosa"},{"1":"5.1","2":"3.8","3":"1.6","4":"0.2","5":"setosa"},{"1":"4.6","2":"3.2","3":"1.4","4":"0.2","5":"setosa"},{"1":"5.3","2":"3.7","3":"1.5","4":"0.2","5":"setosa"},{"1":"5.0","2":"3.3","3":"1.4","4":"0.2","5":"setosa"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  &lt;/script&gt;
&lt;/div&gt;


For more refined tables, you can use `knitr::kable()`, `xtable::xtable()`, `kableExtra::kable().`

---

## Use R Markdown for.. 

&lt;br&gt;

- Reports (analysis, etc) with text, code and results in the same place! With many possible output formats including HTML, PDF, MS Word, etc.

- Notebooks (vs "Chunk Output in Console")

- Slides (like this one! -- see [source code](https://github.com/privefl/R-presentation/blob/master/rmarkdown.Rmd))

- Websites (such as [the website of our R user group](https://r-in-grenoble.github.io/))

- Books (e.g. my online [advanced R course](https://privefl.github.io/advr38book/) or even [a thesis](https://keurcien.github.io/book/introduction.html))

- [WIP] [{pagedown}](https://github.com/rstudio/pagedown): Paginate the HTML Output of R Markdown with CSS for Print

---

## Slides formats

- [ioslides](https://bookdown.org/yihui/rmarkdown/ioslides-presentation.html) ([example](https://privefl.github.io/R-presentation/pResentation.html))

- [slidy](https://bookdown.org/yihui/rmarkdown/slidy-presentation.html) ([example](https://www.jvcasillas.com/slidify_tutorial/))

- [beamer](https://bookdown.org/yihui/rmarkdown/beamer-presentation.html) (pdf)

- [powerpoint](https://bookdown.org/yihui/rmarkdown/powerpoint-presentation.html) (ppt)

- [xaringan / remark.js](https://bookdown.org/yihui/rmarkdown/xaringan.html) (example: this presentation!)

- [reveal.js](https://bookdown.org/yihui/rmarkdown/revealjs.html)

--

&lt;br&gt;

3 main reasons to make your slides with R Markdown:

--

1. Include code and results very easily

--

1. Make HTML presentations directly available online (easy to export them to PDF using "print to PDF" of Chrome)

--

1. Include fancy HTML widgets (like maps, searchable tables, interactive graphics, etc)

---

### Include an interactive map with {leaflet}


```r
library(leaflet)
leaflet(width = "100%") %&gt;% 
  setView(lng = 5.767249, lat = 45.190590, zoom = 12) %&gt;% 
  addTiles(options = providerTileOptions(minZoom = 2, maxZoom = 19))
```

<div id="htmlwidget-1a33bf536f135aa7f3a3" style="width:100%;height:360px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-1a33bf536f135aa7f3a3">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"setView":[[45.19059,5.767249],12,[]],"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"errorTileUrl":"","noWrap":false,"detectRetina":false,"minZoom":2,"maxZoom":19,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]}]},"evals":[],"jsHooks":[]}</script>

---

## Websites

&lt;br&gt;

Example: webpage of the [Grenoble RUG](https://r-in-grenoble.github.io/)

&lt;br&gt;

How does it work?

- just multiple Rmd documents (one by page) rendered as HTML with a common navigation bar

- host the static HTML pages using e.g. GitHub pages

- make your own website in 20 minutes with [this tutorial](https://github.com/privefl/rmarkdown-website-template)


.footnote[You can also use {blogdown}. See the [full documentation](https://bookdown.org/yihui/blogdown/).]

---

## Books

&lt;br&gt;

Every R book is now written with [{bookdown}](https://bookdown.org/yihui/bookdown/). 

See many of them at https://bookdown.org/.

&lt;br&gt;

Again, from our side, it is just a collection of R Markdown documents.

E.g. see [my advanced R course](https://privefl.github.io/advr38book/) and [the associated GitHub repository](https://github.com/privefl/advr38book).

---

## Technical Documents

&lt;br&gt;

Formats in {bookdown} allows you to:

- number and reference equations, tables, figures, etc

- use special chunks such as theorems and proofs

- special headers such as "PART" and "APPENDIX"

- citations

- etc

--

&lt;br&gt;

To use this in single R Markdown documents (not books), you can use formats

- `bookdown::html_document2()`
- `bookdown::pdf_document2()`
- `bookdown::word_document2()`

---

class: middle, center, inverse

# References

---

class: middle, center

.pull-left[
&lt;img src="https://bookdown.org/yihui/rmarkdown/images/cover.png" width="95%" style="display: block; margin: auto;" /&gt;
]

.pull-right[
&lt;img src="https://bookdown.org/yihui/bookdown/images/cover.jpg" width="95%" style="display: block; margin: auto;" /&gt;
]

---

## Useful materials


* [Official website](https://rmarkdown.rstudio.com)

* [*R Markdown: The Definitive Guide*](https://bookdown.org/yihui/rmarkdown/)

* [*Authoring Books and Technical Documents with R Markdown*](https://bookdown.org/yihui/bookdown/)

* [Reference guide](https://www.rstudio.com/wp-content/uploads/2015/03/rmarkdown-reference.pdf)

* [Cheat sheet](https://rmarkdown.rstudio.com/lesson-15.HTML)

* [Tips for R Markdown](https://holtzy.github.io/Pimp-my-rmd/)

* For less problems with LaTeX distributions: [{TinyTeX}](https://yihui.name/tinytex/)

* [Embed a File in the HTML Output of R Markdown](https://yihui.name/en/2018/07/embed-file/)

* [Xaringan documentation](https://slides.yihui.name/xaringan)

* [Decouple Code and Output in xaringan slides](https://www.garrickadenbuie.com/blog/2018/08/16/decouple-code-and-output-in-xaringan-slides/)

* [Tips for making slides](https://www.tidyverse.org/articles/2018/07/carpe-talk/)

---

class: inverse, center, middle

# Thanks!

&lt;br&gt;

**Slides:** `bit.ly/RUGgre18`

&lt;br&gt;

<i class="fab  fa-twitter "></i> [privefl](https://twitter.com/privefl) &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; <i class="fab  fa-github "></i> [privefl](https://github.com/privefl) &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; <i class="fab  fa-stack-overflow "></i> [F. Priv√©](https://stackoverflow.com/users/6103040/f-priv%c3%a9)

<i class="fab  fa-twitter "></i> [JulyanArbel](https://twitter.com/JulyanArbel) &amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; <i class="fab  fa-github "></i> [jarbel](https://github.com/jarbel)

.footnote[Slides created via the R package [**xaringan**](https://github.com/yihui/xaringan).]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>
<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
